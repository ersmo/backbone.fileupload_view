this.JST=this.JST||{},this.JST.blueimp_file_upload_template=function(a){var b=[],c=a||{},d=c.maxFileSize,e=c.$,f=c.acceptFileTypes,g=c.maxNumberOfFiles;return b.push('<form id="fileupload" action="" method="POST" enctype="multipart/form-data"><div class="row fileupload-buttonbar"><div class="span7"><span class="btn btn-success fileinput-button"><i class="icon-plus icon-white"></i><span>Add files...</span><input type="file" name="files[]" multiple="multiple"/></span>&nbsp;<button type="submit" class="btn btn-primary start"><i class="icon-upload icon-white"></i><span>Start upload</span></button>&nbsp;<button type="reset" class="btn btn-warning cancel"><i class="icon-ban-circle icon-white"></i><span>Cancel upload</span></button>&nbsp;<button type="button" class="btn btn-danger delete"><i class="icon-trash icon-white"></i><span>Delete</span></button>&nbsp;<input type="checkbox" class="toggle"/>&nbsp;<span class="fileupload-loading"></span></div><div class="span5 fileupload-progress fade"><div role="progressbar" aria-valuemin="0" aria-valuemax="100" class="progress progress-success progress-striped active"><div style="width: 0%;" class="bar"></div></div><div class="progress-extended"> </div></div></div><table role="presentation" class="table table-striped"><tbody data-toggle="modal-gallery" data-target="#modal-gallery" class="files"></tbody></table></form><div class="well well-small"><h4>Notes</h4><ul>'),d&&b.push("<li>The maximum file size for uploads in this page is &nbsp;<strong>"+jade.escape(null==(jade.interp=e.blueimp.fileupload.prototype._formatFileSize(d))?"":jade.interp)+"</strong>.</li>"),f&&b.push("<li>Only type (&nbsp;<strong>"+jade.escape(null==(jade.interp=f)?"":jade.interp)+"</strong>&nbsp;) are allowed in this page.</li>"),g&&b.push("<li>Only&nbsp;<strong>"+jade.escape(null==(jade.interp=g)?"":jade.interp)+"</strong>&nbsp;file(s) are allowed in this page.   </li>"),b.push("<li>You can&nbsp;<strong>drag & drop</strong>&nbsp;files from your desktop on this webpage with Google Chrome, Mozilla Firefox and Apple Safari.</li></ul></div>"),b.join("")},this.JST=this.JST||{},this.JST.blueimp_file_upload_download=function(a){var b=[],c=a||{},d=c.o;return function(){var a=d.files;if("number"==typeof a.length)for(var c=0,e=a.length;e>c;c++){var f=a[c];b.push('<tr class="template-download fade"><td><span class="preview">'),f.thumbnail_url&&b.push("<a"+jade.attrs({href:f.url,title:f.name,"data-gallery":"gallery",download:f.name},{href:!0,title:!0,"data-gallery":!0,download:!0})+"><img"+jade.attrs({src:f.thumbnail_url},{src:!0})+"/></a>"),b.push('</span></td><td><p class="name"><a'+jade.attrs({href:f.url,title:f.name,"data-gallery":""+(f.thumbnail_url&&"gallery"),download:f.name},{href:!0,title:!0,"data-gallery":!0,download:!0})+">"+jade.escape(null==(jade.interp=f.name)?"":jade.interp)+"</a></p>"),f.error&&b.push('<div><span class="label label-important">Error</span>'+jade.escape(null==(jade.interp=f.error)?"":jade.interp)+"</div>"),b.push('</td><td><span class="size">'+jade.escape(null==(jade.interp=d.formatFileSize(f.size))?"":jade.interp)+"</span></td><td>"),f.delete_type&&f.delete_url&&b.push("<button"+jade.attrs({"data-type":f.delete_type,"data-url":f.delete_url,"if":"if","class":["btn","btn-danger","delete"]},{"data-type":!0,"data-url":!0,"if":!0})+'> <!-- data-xhr-fields=\'{"withCredentials":true}\'--><i class="icon-trash icon-white"></i><span>Delete</span></button>&nbsp;<input type="checkbox" name="delete" value="1" class="toggle"/>'),b.push('</td><td class="after-upload"><button'+jade.attrs({"data-insert-image":f.url,"class":["btn","btn-success","abc"]},{"data-insert-image":!0})+">插入圖片</button></td></tr>")}else{var e=0;for(var c in a){e++;var f=a[c];b.push('<tr class="template-download fade"><td><span class="preview">'),f.thumbnail_url&&b.push("<a"+jade.attrs({href:f.url,title:f.name,"data-gallery":"gallery",download:f.name},{href:!0,title:!0,"data-gallery":!0,download:!0})+"><img"+jade.attrs({src:f.thumbnail_url},{src:!0})+"/></a>"),b.push('</span></td><td><p class="name"><a'+jade.attrs({href:f.url,title:f.name,"data-gallery":""+(f.thumbnail_url&&"gallery"),download:f.name},{href:!0,title:!0,"data-gallery":!0,download:!0})+">"+jade.escape(null==(jade.interp=f.name)?"":jade.interp)+"</a></p>"),f.error&&b.push('<div><span class="label label-important">Error</span>'+jade.escape(null==(jade.interp=f.error)?"":jade.interp)+"</div>"),b.push('</td><td><span class="size">'+jade.escape(null==(jade.interp=d.formatFileSize(f.size))?"":jade.interp)+"</span></td><td>"),f.delete_type&&f.delete_url&&b.push("<button"+jade.attrs({"data-type":f.delete_type,"data-url":f.delete_url,"if":"if","class":["btn","btn-danger","delete"]},{"data-type":!0,"data-url":!0,"if":!0})+'> <!-- data-xhr-fields=\'{"withCredentials":true}\'--><i class="icon-trash icon-white"></i><span>Delete</span></button>&nbsp;<input type="checkbox" name="delete" value="1" class="toggle"/>'),b.push('</td><td class="after-upload"><button'+jade.attrs({"data-insert-image":f.url,"class":["btn","btn-success","abc"]},{"data-insert-image":!0})+">插入圖片</button></td></tr>")}}}.call(this),b.join("")},this.JST=this.JST||{},this.JST.blueimp_file_upload_upload=function(a){var b=[],c=a||{},d=c.o;return function(){var a=d.files;if("number"==typeof a.length)for(var c=0,e=a.length;e>c;c++){var f=a[c];b.push('<tr class="template-upload fade"><td><span class="preview"></span></td><td><p class="name">'+jade.escape(null==(jade.interp=f.name)?"":jade.interp)+"</p>"),f.error&&b.push('<div><span class="label label-important">Error</span>'+jade.escape(null==(jade.interp=f.error)?"":jade.interp)+"</div>"),b.push('</td><td><p class="size">'+jade.escape(null==(jade.interp=d.formatFileSize(f.size))?"":jade.interp)+"</p>"),d.files.error||b.push('<div role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" class="progress progress-success progress-striped active"><div style="width: 0%;" class="bar"></div></div>'),b.push("</td><td>"),d.files.error||c||d.options.autoUpload||b.push('<button class="btn btn-primary start"><i class="icon-upload icon-white"></i><span>Start</span></button>&nbsp;'),c||b.push('<button class="btn btn-warning cancel"><i class="icon-ban-circle icon-white"></i><span>Cancel</span></button>'),b.push('</td><td class="before-upload"></td></tr>')}else{var e=0;for(var c in a){e++;var f=a[c];b.push('<tr class="template-upload fade"><td><span class="preview"></span></td><td><p class="name">'+jade.escape(null==(jade.interp=f.name)?"":jade.interp)+"</p>"),f.error&&b.push('<div><span class="label label-important">Error</span>'+jade.escape(null==(jade.interp=f.error)?"":jade.interp)+"</div>"),b.push('</td><td><p class="size">'+jade.escape(null==(jade.interp=d.formatFileSize(f.size))?"":jade.interp)+"</p>"),d.files.error||b.push('<div role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" class="progress progress-success progress-striped active"><div style="width: 0%;" class="bar"></div></div>'),b.push("</td><td>"),d.files.error||c||d.options.autoUpload||b.push('<button class="btn btn-primary start"><i class="icon-upload icon-white"></i><span>Start</span></button>&nbsp;'),c||b.push('<button class="btn btn-warning cancel"><i class="icon-ban-circle icon-white"></i><span>Cancel</span></button>'),b.push('</td><td class="before-upload"></td></tr>')}}}.call(this),b.join("")},function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}},c={}.hasOwnProperty,d=function(a,b){function d(){this.constructor=a}for(var e in b)c.call(b,e)&&(a[e]=b[e]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a},e=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};Backbone.FileUploadView=function(c){function f(){return this.render=b(this.render,this),a=f.__super__.constructor.apply(this,arguments)}return d(f,c),f.prototype.template=JST.blueimp_file_upload_template,f.prototype.upload=JST.blueimp_file_upload_upload,f.prototype.download=JST.blueimp_file_upload_download,f.prototype.upload_events=["add","submit","send","done","fail","always","progress","progressall","start","stop","change","paste","drop","dragover","chunksend","chunkdone","chunkfail","chunkalways"],f.prototype.defaults={maxFileSize:null,acceptFileTypes:null,maxNumberOfFiles:null,done:null},f.prototype.initialize=function(){return this.options=_.defaults(this.options,this.defaults),this.render()},f.prototype.render=function(){var a,b,c,d,f=this;this.$el.html(this.template(this.options)),a=this.$("#fileupload").fileupload({url:this.options.url,maxFileSize:this.options.maxFileSize,acceptFileTypes:this.options.acceptFileTypes,maxNumberOfFiles:this.options.maxNumberOfFiles,uploadTemplate:function(a){return f.upload({o:a})},downloadTemplate:function(a){return f.download({o:a})}}),d=this.options;for(b in d)c=d[b],e.call(this.upload_events,b)>=0&&a.on("fileupload"+b,c);return this},f}(Backbone.View)}.call(this);